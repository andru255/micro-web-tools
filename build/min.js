if(!window.requestAnimationFrame){window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.i||function(i){return window.setTimeout(i,17)}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=window.t||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.s||window.msCancelRequestAnimationFrame||window.h||window.o||window.clearTimeout}var CANVAS=function(i){this.u=i};CANVAS.prototype.l=function(){return this.u.getContext("2d")};CANVAS.prototype.v=function(){this.l().clearRect(0,0,this.u.width,this.u.height)};CANVAS.prototype.F=function(){window.cancelAnimationFrame(this.A)};CANVAS.prototype.M=function(i){var t=this;(function n(){t.A=window.requestAnimationFrame(n,t.u);i&&i.call(this,n)})()};var DOM=function(i,t,n,s){this.C=i;this.type=t||"#";this.O=n||"div";this.target=s||document.body;var h=this.target.querySelector([this.O,this.type,this.C].join(""));this.u=false;if(h){this.u=h}return this.D()};DOM.prototype.D=function(){if(!this.u){this.u=document.createElement(this.O);this.target.appendChild(this.u);if(this.type=="."){this.u.className=this.C}if(this.type=="#"){this.u.id=this.C}}return this};DOM.prototype.remove=function(){this.target.removeChild(this.u)};DOM.prototype.m=function(i){for(var t in i){this.u.style[t]=i[t]}return this};DOM.prototype.transform=function(i,t){var t=i+"("+t+")";this.m({webkitTransform:t,MozTransform:t,p:t,transform:t});return this};DOM.prototype.position=function(i,t){var n=arguments[2]?0:this.u.width/2;var s=arguments[2]?0:this.u.height/2;this.m({left:i-n+"px",top:t-s+"px"});this.x=i;this.y=t;return this};DOM.prototype.N=function(i,t){this.m({width:i+"px",height:t+"px"});this.width=i;this.height=t;return this};function Fixture(){this.velocityX=0;this.velocityY=0;this.S=0;this.V=0;this.debug=true}Fixture.prototype.g=function(i){i.fillStyle=this.style||false;i.fill();if(this.lineWidth>0){i.strokeStyle=this.stroke||false;i.lineWidth=this.lineWidth||0}i.stroke();this.debug&&this.P(i)};Fixture.prototype.P=function(i){i.beginPath();i.save();i.fillStyle="#00ff00";i.arc(this.x,this.y,2,0,2*Math.PI,false);i.fill();i.restore()};var FixtureCircle=function(i,t,n){this.T=n;this.x=i;this.y=t};FixtureCircle.prototype=new Fixture.prototype.constructor;FixtureCircle.prototype.k=function(i){i.save();i.beginPath();i.arc(this.x,this.y,this.T,0,2*Math.PI,false);this.__proto__.g.call(this,i);i.closePath();i.restore()};var FixturePolygon=function(i,t,n){this.x=i;this.y=t;this.j=n||[{x:10,y:10}]};FixturePolygon.prototype=new Fixture.prototype.constructor;FixturePolygon.prototype.k=function(i){i.save();i.beginPath();i.moveTo(this.x,this.y);this.j.map(function(t){i.lineTo(t.x,t.y)});this.__proto__.g.call(this,i);i.closePath();i.restore()};